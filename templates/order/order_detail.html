<!DOCTYPE html>
<html lang="ja" dir="ltr" xmlns:th="http://www.thymeleaf.org"
	th:replace="~{common/layout :: layout(~{::body/content()})}">
	<head>
		<meta charset="utf-8">
		<meta http-equiv="X-UA-Compatible" content="IE=edge">
		<meta name="viewport" content="width=device-width, initial-scale=1">
		<title>ご注文履歴 | Shop</title>
	</head>
	<body data-spy="scroll" data-target=".onpage-navigation" data-offset="60">
		<main>
			<div class="main">
				<section class="module">
					<div class="container">
						<div class="row">
							<div class="col-sm-6 col-sm-offset-3">
								<h1 class="module-title font-alt">ご注文履歴</h1>
							</div>
						</div>
						<hr class="divider-w pt-20">
						<div class="row">
							<div class="col-sm-12">
								<table class="table table-striped table-border checkout-table">
									<tr>
										<th>会員氏名</th>
										<td th:text="${order.name}"></td>
									</tr>
									<tr>
										<th>注文日時</th>
										<td th:text="${#temporals.format(order.insertDate, 'yyyy/MM/dd HH:mm:ss')}"></td>
									</tr>
									<tr>
										<th>支払い方法</th>
										<td th:switch="${order.payMethod}">
											<span th:case="1">クレジットカード</span>
											<span th:case="2">銀行振り込み</span>
											<span th:case="3">着払い</span>
											<span th:case="4">電子マネー</span>
											<span th:case="5">コンビニ決済</span>
										</td>
									</tr>
									<tr>
										<th>送付先郵便番号</th>
										<td th:text="${order.postalCode}"></td>
									</tr>
									<tr>
										<th>送付先住所</th>
										<td th:text="${order.address}"></td>
									</tr>
									<tr>
										<th>送付先氏名</th>
										<td class="value" th:text="${order.name}"></td>
									</tr>
									<tr>
										<th>送付先電話番号</th>
										<td class="value" th:text="${order.phoneNumber}"></td>
									</tr>
								</table>
								<table class="table table-striped table-border checkout-table mt-40">
									<tr>
										<th>商品名</th>
										<th>単価</th>
										<th>数量</th>
										<th>小計</th>
									</tr>
									<tr th:each="orderItem: ${orderItems}">
										<td th:text="${orderItem.name}"></td>
										<td>&yen; <span th:text="${orderItem.price}"></span></td>
										<td th:text="${orderItem.quantity}"></td>
										<td>&yen; <span th:text="${orderItem.price * orderItem.quantity}"></span></td>
									</tr>
									<tr>
										<td colspan="2"></td>
										<td>合計</td>
										<td>&yen; <span th:text="${#aggregates.sum(orderItems.![price * quantity])}"></span></td>
									</tr>
								</table>
								<div class="col-sm-3 mt-20">
									<form th:action="@{/order/list}"  class="detail_button_area">
									    <input class="btn btn-round btn-g" type="submit" value="戻る"/>
									</form>
								</div>
							</div>
						</div>
					</div>
				</section>
			</div>
		</main>
	</body>
</html>